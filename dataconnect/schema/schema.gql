
# User table based on UserModel
type User @table {
  uid: String!
  email: String!
  displayName: String!
  level: Int!
  totalScore: Int!
  wordsLearned: Int!
}

# Word table based on WordModel
type Word @table {
  id: String!
  character: String!
  pinyin: String!
  meaning: String!
  category: String!
}

# Link table representing the 'my_vocabulary' subcollection
# Note: In the current app, words are duplicated into the user's subcollection.
# This schema normalizes that relationship.
type UserVocabulary @table(key: ["user", "word"]) {
  user: User!
  word: Word!
  addedAt: Timestamp @default(expr: "request.time") # Useful metadata not currently in app but recommended
}

# Quiz tables are removed as the current app only tracks aggregate scores (totalScore)
# and does not persist individual quiz sessions or question history.
